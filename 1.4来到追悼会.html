<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>追悼会</title>
		<style>
			* {
				box-sizing: border-box;
			}
			
			[data-theme=dark] {
				color-scheme: dark only;
			}
			
			[data-theme=light],
			html {
				color-scheme: light only;
			}
			
			@media(prefers-color-scheme: dark) {
				color-scheme: dark only;
			}
			
			[aria-pressed=true] path:nth-of-type(1) {
				display: none;
			}
			
			[aria-pressed=false] path:nth-of-type(2) {
				display: none;
			}
			
			header {
				position: relative;
			}
			
			header svg {
				width: 60px;
				position: absolute;
				right: 100%;
				top: 0;
				height: auto;
				scale: 1 1;
				transform-origin: 100% 100%;
				rotate: 25deg;
				fill: canvasText;
				translate: -25% -25%;
			}
			
			body {
				display: flex;
				justify-content: center;
				align-items: center;
				min-height: 100vh;
				background: canvas;
				color: canvasText;
				align-content: center;
			}
			
			body::before {
				--size: 30px;
				--line: color-mix(in lch, canvasText, transparent 85%);
				content: '';
				height: 100vh;
				width: 100vw;
				position: fixed;
				background: radial-gradient(4px 4px at 50% 50%, var(--line) 2px, transparent 2px var(--size)) 50% 50% / var(--size) var(--size);
				-webkit-mask: linear-gradient(-25deg, transparent 30%, white);
				mask: linear-gradient(-25deg, transparent 30%, white);
				top: 0;
				transform-style: flat;
				pointer-events: none;
				z-index: -1;
			}
			
			p {
				width: 60ch;
				max-width: calc(100% - 2rem);
			}
			
			h1 {
				font-size: clamp(3rem, 7vw + 1rem, 5rem);
				text-wrap: balance;
			}
			
			:root {
				--size: 45px;
				--line: color-mix(in lch, white, transparent 85%);
				background: linear-gradient( 90deg, var(--line) 1px, transparent 1px var(--size)) 50% 50% / var(--size) var(--size), linear-gradient(var(--line) 1px, transparent 1px var(--size)) 50% 50% / var(--size) var(--size), hsl(210 70% 34%);
			}
			
			::view-transition-new(body),
			::view-transition-old(body) {
				-webkit-animation: pan 1s ease-in-out;
				animation: pan 1s ease-in-out;
				-webkit-backface-visibility: hidden;
				backface-visibility: hidden;
				box-shadow: 2.2px 61.3px 73.1px -2px hsl(0 0% 0% / 0.58);
			}
			
			::view-transition-new(body) {
				--sr: 180deg;
				background: canvas;
			}
			
			::view-transition-old(body) {
				--sr: 0deg;
				-webkit-backface-visibility: hidden;
				backface-visibility: hidden;
			}
			
			body {
				view-transition-name: body;
			}
			
			@-webkit-keyframes pan {
				0% {
					transform: scale(1) rotateY(var(--sr));
				}
				25% {
					transform: scale(0.5) rotateY(var(--sr));
					box-shadow: 1.8px 50.7px 51.4px -3.2px hsl(0 0% 0% / 0.32);
				}
				75% {
					transform: scale(0.5) rotateY(calc(var(--sr) + 180deg));
					box-shadow: 1.8px 50.7px 51.4px -3.2px hsl(0 0% 0% / 0.32);
				}
				100% {
					transform: scale(1) rotateY(calc(var(--sr) + 180deg));
				}
			}
			
			@keyframes pan {
				0% {
					transform: scale(1) rotateY(var(--sr));
				}
				25% {
					transform: scale(0.5) rotateY(var(--sr));
					box-shadow: 1.8px 50.7px 51.4px -3.2px hsl(0 0% 0% / 0.32);
				}
				75% {
					transform: scale(0.5) rotateY(calc(var(--sr) + 180deg));
					box-shadow: 1.8px 50.7px 51.4px -3.2px hsl(0 0% 0% / 0.32);
				}
				100% {
					transform: scale(1) rotateY(calc(var(--sr) + 180deg));
				}
			}
			
			:root {
				view-transition-name: none;
			}
			
			.sr-only {
				position: absolute;
				width: 1px;
				height: 1px;
				padding: 0;
				margin: -1px;
				overflow: hidden;
				clip: rect(0, 0, 0, 0);
				white-space: nowrap;
				border-width: 0;
			}
			
			[aria-pressed] {
				position: fixed;
				top: 1rem;
				right: 1rem;
				width: 48px;
				aspect-ratio: 1;
				padding: 0;
				border: 0;
				margin: 0;
				display: grid;
				place-items: center;
				border-radius: 6px;
				transition: background 0.2;
				cursor: pointer;
				background-color: color-mix(in lch, canvas, canvasText calc(var(--intent) * 15%));
			}
			
			button svg {
				width: 50%;
			}
			
			button:is(:focus-visible, :hover) {
				--intent: 1;
			}
			
			main {
				width: 600px;
				max-width: calc(100% - 2rem);
			}
			
			.fun-link {
				color: canvasText;
				position: fixed;
				top: 1rem;
				left: 1rem;
				width: 48px;
				aspect-ratio: 1;
				display: grid;
				place-items: center;
				opacity: 0.8;
			}
			
			:where(.x-link, .bear-link):is(:hover, :focus-visible) {
				opacity: 1;
			}
			
			.fun-link svg {
				width: 75%;
			}
			
			button {
				display: inline-block;
				margin-top: 20px;
				padding: 10px 20px;
				font-size: 16px;
				font-weight: bold;
				color: #fff;
				background-color: #007bff;
				border: none;
				border-radius: 5px;
				cursor: pointer;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
				transition: background-color 0.3s ease, transform 0.3s ease;
			}
			
			button:hover {
				background-color: #0056b3;
				transform: translateY(-2px);
			}
			
			button:active {
				background-color: #004085;
				transform: translateY(0);
			}
		</style>
		<script>
			window.console = window.console || function(t) {};
		</script>
	</head>

	<body translate="no">
		<a class="fun-link" href="1.6真是有趣.html" target="_blank" rel="noreferrer noopener">
			<svg class="w-9" viewBox="0 0 969 955" fill="none" xmlns="http://www.w3.org/2000/svg">
				<circle cx="161.191" cy="320.191" r="133.191" stroke="currentColor" stroke-width="20"></circle>
				<circle cx="806.809" cy="320.191" r="133.191" stroke="currentColor" stroke-width="20"></circle>
				<circle cx="695.019" cy="587.733" r="31.4016" fill="currentColor"></circle>
				<circle cx="272.981" cy="587.733" r="31.4016" fill="currentColor"></circle>
				<path d="M564.388 712.083C564.388 743.994 526.035 779.911 483.372 779.911C440.709 779.911 402.356 743.994 402.356 712.083C402.356 680.173 440.709 664.353 483.372 664.353C526.035 664.353 564.388 680.173 564.388 712.083Z" fill="currentColor"></path>
				<rect x="310.42" y="448.31" width="343.468" height="51.4986" fill="#FF1E1E"></rect>
				<path fill-rule="evenodd" clip-rule="evenodd" d="M745.643 288.24C815.368 344.185 854.539 432.623 854.539 511.741H614.938V454.652C614.938 433.113 597.477 415.652 575.938 415.652H388.37C366.831 415.652 349.37 433.113 349.37 454.652V511.741L110.949 511.741C110.949 432.623 150.12 344.185 219.845 288.24C289.57 232.295 384.138 200.865 482.744 200.865C581.35 200.865 675.918 232.295 745.643 288.24Z" fill="currentColor"></path>
			</svg>
		</a>

		<button aria-pressed="false">
        <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="size-6">
            <path d="M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z" />
            <path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd" />
        </svg>
        <span class="sr-only">Toggle Theme</span>
    </button>

		<main>
			<header>
				<h1>跟着地图导航，我来到了追悼会</h1>
			</header>
			<p>原本想直接进去，却看到门前站着一只穿着黑色西装的兔子先生，浑身散发着一股绅士的威严感，你把邀请函递给他给他检查。</p>
			<p>“先生，你可以进去了。”兔子先生向你深深的鞠躬，示意让你进去。</p>
			<p>房间里的布置不同于大门的华贵大气，</p>
			<p>四下全是洁净的白，中间是一口棺材，我知道，在那躺着的就是我的老朋友。</p>
			<p>前来悼念的人都是满头白发，身着黑色礼服，沉重且宁静。</p>
			<p>他们有的挂着拐杖，有的坐着轮椅，有的悲伤，有的释怀，有的盯着棺材，苦苦思索着，也有双眼紧锁，好似哀悼，空洞的双眼闪露些许迷茫.....</p>
			<p>大家都是熟悉的陌生人，面面相觑却无话可说。</p>

			<!-- 修改按钮以弹出问题提示框 -->
			<button onclick="askQuestion()">点击继续</button>
		</main>

		<script id="rendered-js">
				function askQuestion() {
					var question = "这场追悼会所有来者的头发颜色是？";
					var answer = prompt(question);
					if(answer === "白色") {
						window.location.href = '1.5落幕.html';
					} else {
						alert("答案不正确，请重新回答。");
						askQuestion(); // 重新弹出问题
					}
				}

				const button = document.querySelector('button[aria-pressed]');
				const heading = document.querySelector('h1');
				const isDark = document.documentElement.dataset.theme === 'dark' || matchMedia('(prefers-color-scheme: dark)').matches;
				button.setAttribute('aria-pressed', isDark ? false : true);
				document.documentElement.dataset.theme = isDark ? 'dark' : 'light';

				const sync = () => {
					const darkNow = button.matches('[aria-pressed=false]');
					document.documentElement.dataset.theme = darkNow ? 'light' : 'dark';
					button.setAttribute('aria-pressed', darkNow ? true : false);
				};

				const handleSync = () => {
					if(!document.startViewTransition) return sync();
					document.startViewTransition(sync);
				};
				button.addEventListener('click', handleSync);
		</script>
	</body>

</html>